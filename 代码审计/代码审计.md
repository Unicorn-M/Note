# 代码审计

## 1.1 代码审计流程

```java
//先熟悉环境
1.快速了解程序架构,使用的技术

//比如一些开源组件,是不是存在问题,包括哪个版本有哪些漏洞也是需要我们去梳理的
2.了解API的使用及组件所使用的版本

//传统漏洞的排查可以使用工具，我们只需要判断是不是误报.业务逻辑漏洞就需要我们审计源代码了
3.使用白盒审计工具对项目进行扫描

//如何分类要看安全基本功了(现在还有点差)
4.结合漏洞原理分类审计源码    
    
//对漏洞复现,并提供源码上的解决方案
5.对必要性漏洞进行复现

```

## 1.2 代码审计的方法和思路

```java
//传参,主要数据是用户可控的,都可以看做不可信的
1.对疑似存在漏洞爆发点进行参数回溯  //需要看懂代码，需要知道漏洞原理，每一种语言产生漏洞的场景有哪些
    
//对编码能力有一定的要求,还要熟悉代码漏洞产生的场景    
2.熟悉了每一种代码产生漏洞的场景，然后自编码对漏洞场景进行审计

```

## 1.3 XSS漏洞代码审计

### 	1.3.1 常见的XSS防御代码手段

```
1.大小写过滤
	绕过方式:修改大小写
2.编码过滤,就是把<,>等危险字符串替换为""等字符串
	绕过方式:用编码后的playload进行绕过
		对于把<script>替换为""的过滤方式,可以使用双写绕过
			比如:<scr<script>ipt>alert(1)</script>	
3.还有些使用了ESAPI处理数据,这样浏览器就不会解析,Vue框架也基本不会解析	
```



